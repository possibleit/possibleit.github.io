---
title: IPSec
tags:
  - web
abbrlink: 42583
date: 2022-04-23 22:47:34
---

## IPSec协议

#### 1. IPSec协议概述

Internet安全协议（Internet Protocol Security，IPSec）是一个工业标准网络安全协议，为IP网络提供透明的安全服务，保护TCP/IP通信免遭窃听和篡改，可以有效抵御网络攻击。

<!--more -->

IPSec的三种不同形式
- 认证  
通过认证可以确定接受的数据与所发送的数据是否一致。也可以确认发送者的身份是真实的，还是伪装的。
- 数据完整性  
确保数据从发送者到接收者过程中没有任何无法检测的丢失和改变。
- 保密  
只有接收者可以获取发送的真正内容，无关的接收者无法获知真正的内容。

IPSec三个基本要素来提供保护。（三个要素可以组合应用）

- 验证首部，AH。  
AH可以提供数据源认证和无连接的数据完整性服务。（对应上边三种形式）
- 封装安全载荷，ESP  
ESP除了可以提供AH提供的服务外，还可以提供无连接的数据保密服务。
- 互联网密钥管理协议，IKMP

IPSec的两种工作模式  

- 传输模式
传输模式主要对IP数据包的数据部分信息提供安全保护，即对IP数据包的上层协议数据进行保护（TCP、UDP、ICMP）。其中使用AH模式时，主要对IP数据报（IP首部中选项部分除外）提供认证保护。使用ESP模式时，对IP数据包上层信息提供加密和认证双重保护。IPSec在心愿执行加密、认证和处理，在安全通道传输，主机必须配置IPSec。
- 隧道模式  
隧道模式是对整个IP数据报提供保护，基本原理是构建新的IP数据包，将原来的数据报作为新数据报的数据部分，并对新的IP数据包提供安全保护。当使用AH模式时，对整个IP数据报提供认证保护。使用ESP模式时，为整个IP数据包提供加密和认证双重保护。IPSec的处理实际在安全网关上进行。